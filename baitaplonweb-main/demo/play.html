<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Playing Page</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="../css/playingstyle.css" />
    <link rel="stylesheet" href="../css/playpause.css" />
    <link rel="stylesheet" href="../css/navbar.css" />
    <link rel="stylesheet" href="../css/progressbar.css" />
  <style>
        @keyframes neonPulse {
            0% { text-shadow: 0 0 5px var(--cyan-400), 0 0 10px #06b6d4; }
            50% { text-shadow: 0 0 20px var(--purple-500), 0 0 30px #9333ea; }
            100% { text-shadow: 0 0 5px var(--cyan-400), 0 0 10px #06b6d4; }
        }
        /* --- CSS B·ªî SUNG ƒê·ªÇ ƒê·ªíNG B·ªò GIAO DI·ªÜN --- */
        :root {
            --cyan-400: #22d3ee;
            --purple-500: #a855f7;
        }

        body {
            /* Background Neon Nights gi·ªëng Home */
            background-size: cover !important;
            background-position: center !important;
            background-attachment: fixed !important;
            font-family: 'Poppins', sans-serif !important;
            overflow-x: hidden;
        }

        /* L·ªõp ph·ªß t·ªëi */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 15, 25, 0.85);
            z-index: -1;
            backdrop-filter: blur(5px);
        }
        
        .logo {
            font-family: 'Poppins', sans-serif !important;
            font-size: 26px !important;
            font-weight: 800 !important;
            background: linear-gradient(135deg, #fff 0%, var(--cyan-400) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            
            /* TH√äM D√íNG N√ÄY ƒê·ªÇ LOGO NH·∫§P NH√ÅY */
            animation: neonPulse 3s infinite alternate; 
            
            font-style: normal !important;
        }
        
        /* Navbar trong su·ªët */
        .navbar {
            background: rgba(0,0,0,0.3) !important;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding: 10px 40px !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
        }

        /* Search box m·ªõi */
        .search-box-new {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            padding: 8px 20px;
            width: 300px;
            display: flex;
            align-items: center;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .search-box-new input {
            background: transparent; border: none; color: white; outline: none; width: 100%; margin-left: 10px;
        }

        /* Container ch·ªânh l·∫°i ch√∫t cho ƒë·∫πp */
        .main-container {
            margin-top: 30px;
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.05);
            border-radius: 20px;
        }
        /* --- 1. BI·∫æN ALBUM ART TH√ÄNH ƒêƒ®A THAN XOAY --- */
        .album-art {
            width: 220px !important;  /* K√≠ch th∆∞·ªõc ƒëƒ©a */
            height: 220px !important;
            border-radius: 50% !important; /* Bo tr√≤n th√†nh h√¨nh tr√≤n */
            border: 4px solid #111 !important;
            box-shadow: 0 0 20px rgba(34, 211, 238, 0.4); /* B√≥ng Neon */
            background-size: cover !important;
            background-position: center !important;
            margin: 0 auto 20px auto;
            
            /* T·∫°o l·ªó tr√≤n ·ªü gi·ªØa cho gi·ªëng ƒëƒ©a than */
            position: relative;
            
            /* C·∫•u h√¨nh xoay */
            animation: spinDisk 10s linear infinite;
            animation-play-state: paused; /* M·∫∑c ƒë·ªãnh ƒë·ª©ng y√™n */
        }

        /* L·ªó tr√≤n gi·ªØa ƒëƒ©a */
        .album-art::after {
            content: '';
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 40px; height: 40px;
            background: #111;
            border-radius: 50%;
            border: 2px solid #333;
        }

        /* ƒê·ªãnh nghƒ©a animation xoay */
        @keyframes spinDisk {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Khi c√≥ class 'playing' th√¨ ƒëƒ©a s·∫Ω xoay */
        .album-art.playing {
            animation-play-state: running;
        }

        /* --- 2. L·ªúI B√ÄI H√ÅT NEON (KARAOKE STYLE) --- */
        .lyric-section {
            margin-top: 20px;
            text-align: center;
            height: 300px; /* Chi·ªÅu cao c·ªë ƒë·ªãnh ƒë·ªÉ cu·ªôn */
            overflow-y: auto; /* Cho ph√©p cu·ªôn d·ªçc */
            scroll-behavior: smooth;
            padding: 20px;
            
            /* Hi·ªáu ·ª©ng n·ªÅn k√≠nh t·ªëi */
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* T√πy ch·ªânh thanh cu·ªôn cho ƒë·∫πp */
        .lyric-section::-webkit-scrollbar { width: 5px; }
        .lyric-section::-webkit-scrollbar-thumb { background: var(--purple-500); border-radius: 10px; }

        #song-lyrics {
            font-size: 18px; /* Ch·ªØ to r√µ */
            line-height: 2;  /* Kho·∫£ng c√°ch d√≤ng tho√°ng */
            font-weight: 600;
            color: rgba(255, 255, 255, 0.6); /* M√†u m·∫∑c ƒë·ªãnh h∆°i m·ªù */
            text-align: center;
            white-space: pre-wrap; /* Gi·ªØ nguy√™n xu·ªëng d√≤ng */
            
            /* Hi·ªáu ·ª©ng chuy·ªÉn m√†u nh·∫π */
            transition: color 0.3s;
        }

        /* Hi·ªáu ·ª©ng ch·ªØ n·ªïi (Neon) */
        #song-lyrics:hover {
            color: #fff;
            text-shadow: 0 0 10px var(--cyan-400), 0 0 20px var(--purple-500);
        }
    </style>
  </head>
  <body>
    
    <nav class="navbar">
        <div class="logo" style="font-family: 'Poppins', sans-serif; font-size: 26px; font-weight: 800; background: linear-gradient(135deg, #fff 0%, #22d3ee 100%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; display: flex; align-items: center; gap: 10px; text-transform: uppercase; filter: drop-shadow(0px 0px 8px rgba(0, 210, 255, 0.6));">
            <i class="fa-solid fa-bolt" style="-webkit-text-fill-color: #22d3ee;"></i>
             MUSIC
        </div>
        
        <div class="search-box-new">
            <i class="fa-solid fa-magnifying-glass" style="color: #aaa;"></i>
            <input type="text" placeholder="T√¨m ki·∫øm b√†i h√°t...">
        </div>

        <div class="nav-links" id="nav-links" style="display: flex; align-items: center; gap: 20px;">
            <a href="home.html" class="nav-item" style="color: #aaa; text-decoration: none; font-size: 15px;"><i class="fa-solid fa-house"></i></a>
            <a href="#" class="nav-item active" style="color: #fff; text-decoration: none; font-size: 15px;"><i class="fa-solid fa-compact-disc"></i></a>
            <a href="history.html" class="nav-item" style="color: #aaa; text-decoration: none; font-size: 15px;"><i class="fa-solid fa-clock-rotate-left"></i></a>
            
            <a href="login.html" class="user-profile" onclick="logout()" style="display: flex; align-items: center; gap: 10px; text-decoration: none; padding-left: 20px; border-left: 1px solid rgba(255,255,255,0.1);">
                <div style="text-align: right; line-height: 1.2;">
                    <div style="font-size: 11px; color: #aaa;">
                      Xin ch√†o
                    </div>
                    <div id="username-display" style="font-size: 14px; font-weight: bold; color: #22d3ee;">Guest</div>
                </div>
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" style="width: 38px; height: 38px; border-radius: 50%; border: 2px solid #a855f7;">
            </a>
        </div>
        
        <button class="menu-toggle" id="menu-toggle" style="display: none; background: none; border: none; color: white; font-size: 24px;"><i class="fa-solid fa-bars"></i></button>
    </nav>
    <div class="main-container">
      <div class="player-section">
        <div class="album-art" id="album-art">

        </div>
        <div class="song-title">
          <div id="song-name" style="font-size: 22px; font-weight: bold; margin-bottom: 5px;">
            ƒêang t·∫£i t√™n...
          </div>
          <div id="artist" style="font-size: 14px; color: #ccc; font-weight: normal;">
            ...
          </div>
        </div>
        <div>
          <audio id="audio-player" src="../mp3/nnca.mp3"></audio>
          <div class="visualizer-container" id="visualizer">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
          </div>
        </div>

        <div class="progress-container">
          <span id="current-time">0:00</span>
          <input type="range" id="progress-bar" value="0" max="100" />
          <span id="duration">0:00</span>
        </div>

        <div class="controls">
          <button id="btn-prev">&#8592; Tr∆∞·ªõc</button>
          <button type="button" class="btn1" id="btn1-control">
            <strong id="play-pause-text">PLAY</strong>
            <div id="container-stars">
              <div id="stars"></div>
            </div>

            <div id="glow">
              <div class="circle"></div>
              <div class="circle"></div>
            </div>
          </button>

          <button id="btn-next">Ti·∫øp &#8594;</button>
        </div>
      </div>

      <div class="playlist-section">
        <h2>Playlist</h2>
        <div class="playlist-item" onclick="selectSong('N∆°i N√†y C√≥ Anh')">
          <img src="../img/noinaycoanh.jpg" alt="Icon" /> N∆°i N√†y C√≥ Anh
        </div>
        <div class="playlist-item" onclick="selectSong('M·ªôt NƒÉm M·ªõi B√¨nh An')">
          <img src="../img/motnammoibinhan.jpg" alt="Icon" /> M·ªôt NƒÉm M·ªõi B√¨nh
          An
        </div>
        <div class="playlist-item" onclick="selectSong('C√≥ Ch·∫Øc Y√™u L√† ƒê√¢y')">
          <img src="../img/cochacyeuladay.jpg" alt="Icon" /> C√≥ Ch·∫Øc Y√™u L√† ƒê√¢y
        </div>
      </div>
    </div>

    <div class="info-section">
      <div class="song-info">
        <p>
          <strong>T√™n b√†i h√°t:</strong>
          <span class="song-name">...</span>
        </p>
        <p>
          <strong>T√°c gi·∫£:</strong>
          <span id="artist" class="artist">S∆°n T√πng M-TP</span>
        </p>
        <div class="rating">
          <span class="star" onclick="rate(1)">‚òÖ</span>
          <span class="star" onclick="rate(2)">‚òÖ</span>
          <span class="star" onclick="rate(3)">‚òÖ</span>
          <span class="star" onclick="rate(4)">‚òÖ</span>
          <span class="star" onclick="rate(5)">‚òÖ</span>
        </div>
      </div>
      <div class="lyric-section">
        <h3>üéº L·ªùi B√†i H√°t</h3>
        <div id="song-lyrics">
        ƒêang t·∫£i l·ªùi b√†i h√°t...
        </div>
      </div>
      <nav>
        <div class="main">
          <div class="card">
            <div class="ups">
              <div class="screw1">+</div>
              <div class="screw2">+</div>
            </div>
            <div class="card1">
              <div class="line1"></div>
              <div class="line2"></div>
              <div class="yl">
                <div class="roll">
                  <div class="s_wheel"></div>
                  <div class="tape"></div>
                  <div class="e_wheel"></div>
                </div>
                <p class="num">90</p>
              </div>
              <div class="or">
                <p class="time">2√ó30min</p>
              </div>
            </div>
            <div class="card2_main">
              <div class="card2">
                <div class="c1"></div>
                <div class="t1"></div>
                <div class="screw5">+</div>
                <div class="t2"></div>
                <div class="c2"></div>
              </div>
            </div>
            <div class="downs">
              <div class="screw3">+-+</div>
              <div class="screw4">+-+</div>
            </div>
          </div>
        </div>
      </nav>
    </div>

    <script src="../js/playingfunc.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const email = localStorage.getItem('userEmail') || 'Guest';
            const username = email.includes('@') ? email.split('@')[0] : email;
            document.getElementById('username-display').textContent = username;
        });
        function logout() { window.location.href = 'login.html'; }
    </script>
  </body>
</html>
